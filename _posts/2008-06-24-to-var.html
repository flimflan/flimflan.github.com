---
title: To var
permalink: ToVar.html
layout: migrated
date: 2008-06-24
dasblog_id: a6e5885a-d75e-4365-a78f-d6fbba6c57de
published_at: 2008-06-25 01:11:04.801000000 -05:00
tags: .NET

---

<p>Dare Obsanjo asked the question <a href="http://www.25hoursaday.com/weblog/2008/05/21/C30ImplicitTypeDeclarationsToVarOrNotToVar.aspx" target="_blank">To var or not to var</a>? He asserted "case closed" at the end of his post, and closed it to further comments, but I would like to continue the conversation.</p> <p>He pulls out the common straw man argument that the anti-<strong>var</strong> (C# 3.0's implicity type keyword) crowd likes to attack. They assume that fans of implicit typing just want to save a few keystrokes. It isn't about less keystrokes. For me, its about thinking a little bit less like a computer and a little bit more like a human. I prefer to think less about Types and more about behaviors. The var keyword is an acknowledgement that I do not care what the type of the variable is - I only care what it can do.</p> <p>I'll address a few specific quotes from his post (emphasis is mine).</p> <blockquote> <p>[Referring to ReSharper] So it seems there are two suggestion modes. The first suggests using the <code>var</code> keyword when the name of the type is obvious from the right hand side expression being evaluated such as casts or new object creation. The second mode suggests replacing type declarations with the <code>var</code> keyword anywhere the compiler can infer the type... The first suggestion mode makes sense to me since the code doesn't lose any clarity and <strong>it makes for shorter code</strong>. The second mode is the one I find problematic it takes information out of the equation <strong>to save a couple of characters per line of code</strong>.</p></blockquote> <p>In both situations, it is about removing compiler noise. I have already given the compiler enough information for it to do its job. I don't care about a couple characters.</p> <blockquote> <p>For example, the claim that it leads to "better naming for local variables" really means it compels developers to use LONGER HUNGARIAN STYLE VARIABLE NAMES.</p></blockquote> <p>Longer, more descriptive variable names? Yes, please. Hungarian style? That assumes I care about the type (which I don't <a href="LosingYourTypeReligion.aspx" target="_blank">see my follow-up post</a>).</p> <blockquote> <p>...these long variable names add more <strong>noise</strong> to the code overall since they show up everywhere the variable is used compared to a single type name showing up when the variable is declared.</p></blockquote> <p>This is completely different understanding of the term "noise" as it relates to code. To me, "noise" in a computer language is all of the stuff that makes code look like something that needs to be decoded. It is all of the stuff that normal humans would not use when communicating with each other. Your source code is a communication medium - it communicates intent to the computer, and to the humans that need to maintain it. Anything that is added purely for the computer's benefit is noise to the human. It commonly takes the form of angle brackets, parentheses, semi-colons, etc. Sometimes it takes the form of redundant or extraneous type information. But I would never consider a descriptive variable name "noise", just because it takes up a little more screen real-estate.</p> <p>It is interesting that Dare seems to reject the argument that var helps promote use of better variable names, and yet the example which spurred his post illustrates it perfectly:</p> <blockquote> <p>I found this change to be somewhat puzzling since while it may have shortened the code by a couple of characters [There he goes counting characters again] on each line but <em>at the cost of making the code less readable</em>. For example, I can't tell what the type of the variable named <strong>lvi</strong> is just by looking at the code.</p></blockquote> <p>The var keyword did not make the code less readable, it just made the poor choice of variable names more apparent. Might listItem or feedItem be a little more readable than <em><strong>lvi</strong></em>?</p> <p>It seems his primary argument against var is that always knowing the type of a variable is of utmost importance. Why? When you are writing code, doesn't your IDE let you know what behaviors are available to your object instances? When you are reading code, can you not assume that the compiler has already checked it for invalid code?</p>
